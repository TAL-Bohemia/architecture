#   用例编写指南

Ivar Jacobson  提出 ”用例“ 概念。用例在描述系统行为需求、软件系统或业务流程等方面被广泛使用。

用例编写指南  主要来源  [《编写有效用例》](https://book.douban.com/subject/10769594/) 



##  1 编写原则:

* 用例要有可读性
* 符合结构要求

## 2 编写优先级

根据风验驱动的原则，对于产品/系统用例的分为三个级别，分别是：

* P0 关键级用例 ：实现关键业务价值或主操作流程
* P1主要级用例 :   实现主要业务价值
* P2 支撑级用例 :  支撑产品/系统运行

> 

## 3 用例示例

### 用例1 <PJTAG>-UC-1001  通过互联网购买股票

* 主执行者： 购买者
* 范围： 私人顾问/PAF(Personal Advisors/Finance package)
* 层次： 用户目标
* 项目相关人员和利益：
* 购买者 -- 购买股票，并希望所买股票能自动被加到PAF记录
* 股票代理商 -- 希望得到全部的购买信息
* 前置条件： 用户已经登录PAF
* 最小保证: 有足够的登录信息，以便出现问题时，PAF能够检测到问题，并要求用户提供更详累的信息
* 成功保证： 远程web站点认可此次购买事件；日志和用户记录被更新。

#### 主成功场景：

- 1 购买者选择通过互联网购买股票向用户显示 更新后的记录情况
- 2 PAF 从用户那里得到所用站点的名称
- 3 PAF 与该站点建立网络连接，并保持控件权
- 4 购买者在该站点上浏览并购买股票
- 5 PAF 获取站点的响应信息，并更新购买者的记录
- 6 PAF 向用户显示 更新后的记录情况

#### 扩展：

- 2a. 购买者要使用一个PAF不支持的站点：
  - 2a1. 系统从购买者那里获取新建议，带有取消用例的选项。
- 3a 在设置过程中，网络发生故障：
  - 3a1. 系统向购买者报告错误，并建议他姐这回到前一步。 
  - 3a2. 购买者或者退出此用例，或者重新再试。
- 4a. 计算机系统崩溃或者在交易过程中被 关掉：
  - 4a.
- 4b. Web站点没有及时认可此次购买活动，而是把它推迟处理：
  - 4b1. PAF把这次推迟事件上记入日志，设置一个时钟，定期向购买者询问结果。
- 5a . Web 站点没有把返回关于购买情况的必要信息：
  - 5a1. PAF把缺少信息的事件记入日志，要求购买者更新存有疑问的交易



## 4 编写过程

从低精度到高精度，按广度优先开展工作

*   主执行者的名字和目标
*   用例简介或主成功场景
*   扩展条件
*   扩展的处理步骤



### 4.1 过程描述

- 定义系统范围和边界

> 追踪带有输入/输出列表的初始语境图的变化

* 集中讨论，并列出主执行者

> 在系统整个生命周期内，找出每个人或非人的主执行者

* 集中计论，并尽可能列出系统所有的用户目标

> 产生初始的执行者-目标列表

* 捕获最外部的概要用例，看看谁最值得关注。

> 对每个主执行者、检查最外部的概要用例。

* 再次考虑和修改概要用例。增加、减少或者合并用户目标。

> 对基于时间的触发事件以及系统边界上的其他事件进行双重检查

*  选择一个用例进行扩展

> 考虑编写一个叙述文档来记录资料

*  捕获项目相关人员和利益、前提条件和保证

> 系统确保前提条件和利益得到满足

*  编写主成功场景

> 用3~9个步骤满足所有利益和保证

*  集中讨论，并尽可能列出所有扩展条件

> 包括系统所能检测到并且必须处理的所有条件

* 编写扩展处理的步骤

> 每个处理结束于： 返回主成功场景，一个单独的成功结束条件，或者失败。

* 抽取复杂的处理流程作为子用例; 合并琐碎的子用例。

> 抽取子用例是容易的，但这会增加项目的开销

* 重新调整用例集： 进行必要的增加、减少与合并

> 检查可读性、完备性以及是否满足项目相关人员的利益





## 5 用例结构说明

用例 ID :  用于追踪

```
<PJTAG>-UC-<NUM>
```

* PJTAG ： 产品标识
* NUM :   4位数字， 关键级用例从1000 开始，  主要级从 2000 开始，支撑级从 3000 开始